(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,function(e,a,t){e.exports={DayForecast:"DayForecast__DayForecast__-hash-base-64-5-",DayNmae:"DayForecast__DayNmae__-hash-base-64-5-",DarkDayNmae:"DayForecast__DarkDayNmae__-hash-base-64-5-",LightDayNmae:"DayForecast__LightDayNmae__-hash-base-64-5-",Forecasts:"DayForecast__Forecasts__-hash-base-64-5-",Day:"DayForecast__Day__-hash-base-64-5-",Night:"DayForecast__Night__-hash-base-64-5-",Sun:"DayForecast__Sun__-hash-base-64-5-",Moon:"DayForecast__Moon__-hash-base-64-5-",SunCloud:"DayForecast__SunCloud__-hash-base-64-5-",MoonCloud:"DayForecast__MoonCloud__-hash-base-64-5-",weatherTextDiv:"DayForecast__weatherTextDiv__-hash-base-64-5-"}},function(e,a,t){e.exports={Favorite:"Favorite__Favorite__-hash-base-64-5-",Link:"Favorite__Link__-hash-base-64-5-",DarkFavorite:"Favorite__DarkFavorite__-hash-base-64-5-",LightFavorite:"Favorite__LightFavorite__-hash-base-64-5-",Temp:"Favorite__Temp__-hash-base-64-5-",WeatherText:"Favorite__WeatherText__-hash-base-64-5-",Label:"Favorite__Label__-hash-base-64-5-",containericons:"Favorite__containericons__-hash-base-64-5-",infoIcon:"Favorite__infoIcon__-hash-base-64-5-",deleteIcon:"Favorite__deleteIcon__-hash-base-64-5-",iconDiv:"Favorite__iconDiv__-hash-base-64-5-"}},,,,,,,,,function(e,a,t){e.exports={Dashboard:"Dashboard__Dashboard__-hash-base-64-5-",DarkDashboard:"Dashboard__DarkDashboard__-hash-base-64-5-",LightDashboard:"Dashboard__LightDashboard__-hash-base-64-5-",CurrentCondition:"Dashboard__CurrentCondition__-hash-base-64-5-",WeatherText:"Dashboard__WeatherText__-hash-base-64-5-",FiveDaysForecast:"Dashboard__FiveDaysForecast__-hash-base-64-5-"}},,,function(e,a,t){e.exports={favoriteList:"Favorites__favoriteList__-hash-base-64-5-",Favorites:"Favorites__Favorites__-hash-base-64-5-",Search:"Favorites__Search__-hash-base-64-5-",DarkSearch:"Favorites__DarkSearch__-hash-base-64-5-",LightSearch:"Favorites__LightSearch__-hash-base-64-5-"}},,,,function(e,a,t){e.exports={NavigationItem:"NavigationItem__NavigationItem__-hash-base-64-5-",active:"NavigationItem__active__-hash-base-64-5-",DarkNavigationItem:"NavigationItem__DarkNavigationItem__-hash-base-64-5-",LightNavigationItem:"NavigationItem__LightNavigationItem__-hash-base-64-5-"}},function(e,a,t){e.exports={Toolbar:"Toolbar__Toolbar__-hash-base-64-5-",DarkToolbar:"Toolbar__DarkToolbar__-hash-base-64-5-",LightToolbar:"Toolbar__LightToolbar__-hash-base-64-5-",DesktopOnly:"Toolbar__DesktopOnly__-hash-base-64-5-"}},function(e,a,t){e.exports={HeaderButtons:"HeaderButtons__HeaderButtons__-hash-base-64-5-",Buttons:"HeaderButtons__Buttons__-hash-base-64-5-",DarkHeaderButtons:"HeaderButtons__DarkHeaderButtons__-hash-base-64-5-",LightHeaderButtons:"HeaderButtons__LightHeaderButtons__-hash-base-64-5-"}},function(e,a,t){e.exports={AddToFavorites:"AddToFavorites__AddToFavorites__-hash-base-64-5-",AddToFavoritesAnimation:"AddToFavorites__AddToFavoritesAnimation__-hash-base-64-5-",fontbulger:"AddToFavorites__fontbulger__-hash-base-64-5-",AddSentence:"AddToFavorites__AddSentence__-hash-base-64-5-",favoriteIcon:"AddToFavorites__favoriteIcon__-hash-base-64-5-",noFavoriteIcon:"AddToFavorites__noFavoriteIcon__-hash-base-64-5-"}},,function(e,a,t){e.exports={SideDrawer:"SideDrawer__SideDrawer__-hash-base-64-5-",Open:"SideDrawer__Open__-hash-base-64-5-",Close:"SideDrawer__Close__-hash-base-64-5-"}},function(e,a,t){e.exports={Content:"Layout__Content__-hash-base-64-5-",DarkContent:"Layout__DarkContent__-hash-base-64-5-",LightContent:"Layout__LightContent__-hash-base-64-5-"}},function(e,a,t){e.exports={FiveDaysForecast:"FiveDaysForecast__FiveDaysForecast__-hash-base-64-5-",DarkFiveDaysForecast:"FiveDaysForecast__DarkFiveDaysForecast__-hash-base-64-5-",LightFiveDaysForecast:"FiveDaysForecast__LightFiveDaysForecast__-hash-base-64-5-"}},function(e,a,t){e.exports={FavoritesList:"FavoritesList__FavoritesList__-hash-base-64-5-",DarkFavoritesList:"FavoritesList__DarkFavoritesList__-hash-base-64-5-",LightFavoritesList:"FavoritesList__LightFavoritesList__-hash-base-64-5-"}},,,,,,,,,,,,function(e,a,t){e.exports={Search:"Search__Search__-hash-base-64-5-",Input:"Search__Input__-hash-base-64-5-"}},,,,,,function(e,a,t){e.exports={NavigationItems:"NavigationItems__NavigationItems__-hash-base-64-5-"}},function(e,a,t){e.exports={DrawerToggle:"DrawerToggle__DrawerToggle__-hash-base-64-5-"}},function(e,a,t){e.exports={Backdrop:"Backdrop__Backdrop__-hash-base-64-5-"}},function(e,a,t){e.exports={Button:"DegreesButton__Button__-hash-base-64-5-"}},function(e,a,t){e.exports={Button:"ScreenModeButton__Button__-hash-base-64-5-"}},function(e,a,t){e.exports={Li:"Location__Li__-hash-base-64-5-"}},function(e,a,t){e.exports={List:"LocationsList__List__-hash-base-64-5-"}},function(e,a,t){e.exports={CurrentDetails:"currentCondition__CurrentDetails__-hash-base-64-5-"}},,,,function(e,a,t){e.exports={Modal:"Modal__Modal__-hash-base-64-5-"}},,,,function(e,a,t){e.exports={Loader:"Spinner__Loader__-hash-base-64-5-",load5:"Spinner__load5__-hash-base-64-5-"}},,function(e,a,t){e.exports=t(78)},,,,,function(e,a,t){},function(e,a,t){e.exports=t.p+"static/media/logo.5d5d9eef.svg"},function(e,a,t){},,,,,,,function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),o=t(30),s=t.n(o),i=(t(69),t(70),t(71),t(2)),c=function(e){return e.children},u=t(15),l=t(21),h=t.n(l),v=n.a.createContext({setScreenMode:function(){},setDegreesMode:function(){},degrreMode:!0,screenMode:!0}),m=function(e){var a=Object(r.useContext)(v),t=[h.a.NavigationItem,h.a.DarkNavigationItem];return a.screenMode||(t=[h.a.NavigationItem,h.a.LightNavigationItem]),n.a.createElement("li",{className:t.join(" ")},n.a.createElement(u.c,{activeClassName:h.a.active,to:e.link,exact:e.exact},e.children))},d=t(47),_=t.n(d),f=function(e){return n.a.createElement("ul",{className:_.a.NavigationItems},n.a.createElement(m,{link:"/",exact:!0},"Home"),n.a.createElement(m,{link:"/favorites"},"Favorites"))},b=t(48),p=t.n(b),y=n.a.createContext({SideDrawerToggle:function(){}}),F=function(){return n.a.createElement(y.Consumer,null,function(e){return n.a.createElement("div",{className:p.a.DrawerToggle,onClick:e.SideDrawerToggle},n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null))})},g=t(22),E=t.n(g),D=function(e){var a=[E.a.Toolbar,E.a.DarkToolbar];return e.dark||(a=[E.a.Toolbar,E.a.LightToolbar]),n.a.createElement("header",{className:a.join(" ")},n.a.createElement(F,null),n.a.createElement("nav",{className:E.a.DesktopOnly},n.a.createElement(f,null)))},k=t(49),N=t.n(k),L=function(e){return e.show?n.a.createElement("div",{className:N.a.Backdrop,onClick:e.clicked}):null},x=t(26),j=t.n(x),w=function(e){var a=[j.a.SideDrawer,j.a.Close];return e.open&&(a=[j.a.SideDrawer,j.a.Open]),n.a.createElement(c,null,n.a.createElement("div",null,n.a.createElement(L,{show:e.show,clicked:e.SideDrawerToggle})),n.a.createElement("div",{className:a.join(" "),onClick:e.closed},n.a.createElement("nav",null,n.a.createElement(f,null))))},O=t(50),C=t.n(O),S=function(){return n.a.createElement(v.Consumer,null,function(e){return n.a.createElement("button",{onClick:e.setDegreesMode,className:C.a.Button},"\xb0 ",e.degrreMode?"F":"C")})},T=t(51),M=t.n(T),I=function(){return n.a.createElement(v.Consumer,null,function(e){return n.a.createElement("button",{onClick:e.setScreenMode,className:M.a.Button},e.screenMode?"Light":"Dark")})},A=t(23),B=t.n(A),K=function(e){var a=[B.a.HeaderButtons,B.a.DarkHeaderButtons];return e.dark||(a=[B.a.HeaderButtons,B.a.LightHeaderButtons]),n.a.createElement("div",{className:a.join(" ")},n.a.createElement("div",{className:B.a.Buttons},n.a.createElement(S,null),n.a.createElement(I,null)))},V=t(27),H=t.n(V),R=function(e){var a=Object(r.useState)({openSideDrawer:!1}),t=Object(i.a)(a,2),o=t[0],s=t[1],u=Object(r.useState)({cDegrre:!0}),l=Object(i.a)(u,2),h=l[0],m=l[1],d=Object(r.useState)({darkMode:!0}),_=Object(i.a)(d,2),f=_[0],b=_[1],p=function(){s(function(e){return{openSideDrawer:!e.openSideDrawer}})},F=[H.a.Content,H.a.DarkContent];return f.darkMode||(F=[H.a.Content,H.a.LightContent]),n.a.createElement(c,null,n.a.createElement(v.Provider,{value:{setScreenMode:function(){b(function(e){return{darkMode:!e.darkMode}})},setDegreesMode:function(){m(function(e){return{cDegrre:!e.cDegrre}})},degrreMode:h.cDegrre,screenMode:f.darkMode}},n.a.createElement("div",null,n.a.createElement(y.Provider,{value:{SideDrawerToggle:p}},n.a.createElement(D,{dark:f.darkMode})),n.a.createElement(K,{dark:f.darkMode}),n.a.createElement(w,{show:o.openSideDrawer,SideDrawerToggle:p,open:o.openSideDrawer,closed:p})),n.a.createElement("main",{className:F.join(" ")},e.children)))},U=t(12),W=t(1),P=t.n(W),z=t(8),G=t(32),J=t(33),Y=t(35),q=t(34),X=t(36),Z=t(13),$=t(44),Q="fMNzYvm55zrAU4Z1G8uJFUG40yK5tlcC",ee=function(){var e=Object(z.a)(P.a.mark(function e(a){var t,r;return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://dataservice.accuweather.com/locations/v1/cities/autocomplete","?apikey=").concat(Q,"&q=").concat(a));case 2:return t=e.sent,e.next=5,t.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),ae=function(){var e=Object(z.a)(P.a.mark(function e(a,t){var r,n,o,s,i,c;return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://dataservice.accuweather.com/currentconditions/v1","/").concat(t,"?apikey=").concat(Q));case 2:return r=e.sent,e.next=5,r.json();case 5:return n=e.sent,o=a?n[0].Temperature.Metric:n[0].Temperature.Imperial,s=o.Value,i=o.Unit,c=n[0].WeatherText,e.abrupt("return",{Value:s,Unit:i,WeatherText:c});case 9:case"end":return e.stop()}},e)}));return function(a,t){return e.apply(this,arguments)}}();function te(){return(te=Object(z.a)(P.a.mark(function e(a,t){var r,n,o,s,i,c,u,l;return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=[],n=!0,o=!1,s=void 0,e.prev=4,i=t[Symbol.iterator]();case 6:if(n=(c=i.next()).done){e.next=15;break}return u=c.value,e.next=10,ae(a,u.id);case 10:l=e.sent,r.push({id:u.id,name:u.name,temp:l.Value,weatherText:l.WeatherText,unit:l.Unit});case 12:n=!0,e.next=6;break;case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(4),o=!0,s=e.t0;case 21:e.prev=21,e.prev=22,n||null==i.return||i.return();case 24:if(e.prev=24,!o){e.next=27;break}throw s;case 27:return e.finish(24);case 28:return e.finish(21);case 29:return e.abrupt("return",r);case 30:case"end":return e.stop()}},e,null,[[4,17,21,29],[22,,24,28]])}))).apply(this,arguments)}var re=function(){var e=Object(z.a)(P.a.mark(function e(a,t){var r,n,o,s;return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://dataservice.accuweather.com/forecasts/v1/daily/5day/","/").concat(t,"?apikey=").concat(Q));case 2:return r=e.sent,e.next=5,r.json();case 5:return n=e.sent,o=n.DailyForecasts,s=ne(a,o),e.abrupt("return",s);case 9:case"end":return e.stop()}},e)}));return function(a,t){return e.apply(this,arguments)}}();function ne(e,a){var t=[];return a.forEach(function(a){t.push({dayName:oe(a.Date),day:{temp:e?ie(a.Temperature.Maximum.Value):a.Temperature.Maximum.Value,weatherText:a.Day.IconPhrase},night:{temp:e?ie(a.Temperature.Minimum.Value):a.Temperature.Minimum.Value,weatherText:a.Night.IconPhrase},unit:e?"C":"F"})}),t}function oe(e){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date(e).getDay()]}function se(e){var a=9*e/5+32;return Math.floor(a)}function ie(e){var a=5*(e-32)/9;return Math.floor(a)}var ce=t(52),ue=t.n(ce),le=n.a.createContext({setSearchList:function(){}}),he=n.a.createContext({setLocation:function(){},setError:function(){}}),ve=function(e){var a=Object(r.useContext)(le),t=Object(r.useContext)(he);return n.a.createElement("li",{className:ue.a.Li,onClick:function(){a.setSearchList(null),t.setLocation({name:e.locationName,key:e.locationKey})}},e.locationName)},me=t(53),de=t.n(me),_e=function(e){return n.a.createElement("ul",{className:de.a.List},e.locations.map(function(e){return n.a.createElement(ve,{key:e.Key,locationName:"".concat(e.LocalizedName,",").concat(e.Country.LocalizedName),locationKey:e.Key})}))},fe=t(41),be=t.n(fe);function pe(e){return/^[ a-z, A-Z ]*$/.test(e)}var ye=function(e){var a=Object(r.useContext)(he),t=Object(r.useState)({locationsList:null}),o=Object(i.a)(t,2),s=o[0],c=o[1],u=Object(r.useState)({value:""}),l=Object(i.a)(u,2),h=l[0],v=l[1];Object(r.useEffect)(function(){v({value:e.name})},[e.name]);var m=function(){var e=Object(z.a)(P.a.mark(function e(t){var r;return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=null,!t){e.next=12;break}return e.prev=2,e.next=5,ee(t);case 5:r=e.sent,c({locationsList:r}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),a.setError("An error occurred while trying to get locations");case 12:case"end":return e.stop()}},e,null,[[2,9]])}));return function(a){return e.apply(this,arguments)}}(),d=null;return s.locationsList&&(d=n.a.createElement(_e,{locations:s.locationsList})),n.a.createElement("div",{className:be.a.Search},n.a.createElement("input",{className:be.a.Input,type:"text",placeholder:"Search Location...",onChange:function(e){return function(e){var a=e.target.value;pe(a)&&" "!==a&&(v({value:a}),m(a))}(e)},value:h.value}),n.a.createElement(le.Provider,{value:{setSearchList:function(e){c({locationsList:e})}}},d))},Fe=t(54),ge=t.n(Fe),Ee=function(e){return n.a.createElement("div",null,n.a.createElement("div",{className:ge.a.CurrentDetails},n.a.createElement("label",null,e.name),n.a.createElement("label",null,e.temp,"\xb0 ",e.unit)))},De=t(55),ke=t.n(De),Ne=t(24),Le=t.n(Ne),xe=function(e){var a=Object(r.useState)({isAnimate:null}),t=Object(i.a)(a,2),o=t[0],s=t[1];Object(r.useEffect)(function(){s({isAnimate:!1})},[e.locationKey]);var c=Le.a.noFavoriteIcon;e.isFavorite&&(c=Le.a.favoriteIcon);var u=[Le.a.AddToFavorites];return o.isAnimate&&(u=[Le.a.AddToFavorites,Le.a.AddToFavoritesAnimation].join(" ")),n.a.createElement("div",{className:u},n.a.createElement("div",null,n.a.createElement(ke.a,{className:c,onClick:function(){s({isAnimate:!e.isFavorite}),e.addToFavoritesToggle(e.isFavorite)}})))},je=t(14),we=t.n(je),Oe=t(4),Ce=t.n(Oe),Se=t(56),Te=t.n(Se),Me=t(57),Ie=t.n(Me),Ae=t(42),Be=t.n(Ae),Ke=function(e){var a=Object(r.useContext)(v),t=[Ce.a.DayNmae,Ce.a.DarkDayNmae];return a.screenMode||(t=[Ce.a.DayNmae,Ce.a.LightDayNmae]),n.a.createElement("div",{className:Ce.a.DayForecast},n.a.createElement("div",{className:t.join(" ")},e.dayName),n.a.createElement("div",{className:Ce.a.Forecasts},n.a.createElement("div",{className:Ce.a.Day},n.a.createElement("label",null,"Day"),n.a.createElement("div",null,n.a.createElement(Te.a,{className:Ce.a.Sun}),n.a.createElement(Be.a,{className:Ce.a.SunCloud})),n.a.createElement("label",null,e.tempDay,"\xb0 ",e.unit),n.a.createElement("div",{className:Ce.a.weatherTextDiv},n.a.createElement("label",null,e.weatherTextDay))),n.a.createElement("div",{className:Ce.a.Night},n.a.createElement("label",null,"Night"),n.a.createElement("div",null,n.a.createElement(Ie.a,{className:Ce.a.Moon}),n.a.createElement(Be.a,{className:Ce.a.MoonCloud})),n.a.createElement("label",null,e.tempNight,"\xb0 ",e.unit),n.a.createElement("div",{className:Ce.a.weatherTextDiv},n.a.createElement("label",null,e.weatherTextNight)))))},Ve=t(28),He=t.n(Ve),Re=function(e){var a=e.fiveDayForecast.map(function(e){return n.a.createElement(Ke,{key:e.dayName,dayName:e.dayName,tempDay:e.day.temp,weatherTextDay:e.day.weatherText,tempNight:e.night.temp,weatherTextNight:e.night.weatherText,unit:e.unit})}),t=[He.a.FiveDaysForecast,He.a.DarkFiveDaysForecast];return e.dark||(t=[He.a.FiveDaysForecast,He.a.LightFiveDaysForecast]),n.a.createElement("div",{className:t.join(" ")},a)},Ue=t(58),We=t.n(Ue),Pe=function(e){function a(){return Object(G.a)(this,a),Object(Y.a)(this,Object(q.a)(a).apply(this,arguments))}return Object(X.a)(a,e),Object(J.a)(a,[{key:"shouldComponentUpdate",value:function(e,a){return e.show!==this.props.show||e.children!==this.props.children}},{key:"render",value:function(){return n.a.createElement(c,null,n.a.createElement(L,{show:this.props.show,clicked:this.props.modalClosed}),n.a.createElement("div",{className:We.a.Modal,style:{transform:this.props.show?"translateY(0)":"translateY(-100vh)",opacity:this.props.show?"1":"0"}},this.props.children))}}]),a}(r.Component),ze=function(e){var a=Object(r.useContext)(v),t=Object(r.useState)({curentConditions:{},fiveDaysForecast:[]}),o=Object(i.a)(t,2),s=o[0],c=o[1],u=Object(r.useState)({isFavorite:null}),l=Object(i.a)(u,2),h=l[0],m=l[1],d=Object(r.useState)({error:!1,errorMassage:""}),_=Object(i.a)(d,2),f=_[0],b=_[1];Object(r.useEffect)(function(){e.getFavorites()},[]),Object(r.useEffect)(function(){if(e.locationKey){var t=[ae(a.degrreMode,e.locationKey),re(a.degrreMode,e.locationKey)];Promise.all(t).then(function(e){c({curentConditions:e[0],fiveDaysForecast:e[1]})}).catch(function(e){b({error:!0,errorMassage:"An error occurred while trying to get location data."})})}},[e.locationKey]),Object(r.useEffect)(function(){if(Object.entries(s.curentConditions).length>0&&s.fiveDaysForecast.length>0){var e=function(e,a){for(var t=Object($.a)(a),r=0;r<t.length;r++)t[r].day.temp=e?ie(t[r].day.temp):se(t[r].day.temp),t[r].night.temp=e?ie(t[r].night.temp):se(t[r].night.temp),t[r].unit=e?"C":"F";return t}(a.degrreMode,s.fiveDaysForecast),t=function(e,a){var t=Object(Z.a)({},a);return t.Value=e?ie(t.Value):se(t.Value),t.Unit=e?"C":"F",t}(a.degrreMode,s.curentConditions);c({curentConditions:t,fiveDaysForecast:e})}},[a.degrreMode]),Object(r.useEffect)(function(){if(e.favorites&&e.locationKey){var a=(t=e.locationKey,-1!==e.favorites.findIndex(function(e){return e.id===t}));m({isFavorite:a})}var t},[e.locationKey,e.favorites]);var p=[we.a.Dashboard,we.a.DarkDashboard];a.screenMode||(p=[we.a.Dashboard,we.a.LightDashboard]);var y=null;return f.error&&(y=n.a.createElement(Pe,{show:f.error,modalClosed:function(){b({error:!1,errorMassage:""})}},f.errorMassage)),n.a.createElement("div",{className:p.join(" ")},y,n.a.createElement("div",{className:we.a.CurrentCondition},n.a.createElement(Ee,{name:e.locationName,temp:s.curentConditions.Value,unit:s.curentConditions.Unit}),n.a.createElement(xe,{isFavorite:h.isFavorite,locationKey:e.locationKey,addToFavoritesToggle:function(a){return function(a){if(a)e.removeFromFavorites(e.locationKey);else{var t={id:e.locationKey,name:e.locationName};e.addFavorites(t)}}(a)}})),n.a.createElement("div",{className:we.a.WeatherText},n.a.createElement("label",null,s.curentConditions.WeatherText)),n.a.createElement("div",{className:we.a.FiveDaysForecast},n.a.createElement(Re,{dark:a.screenMode,fiveDayForecast:s.fiveDaysForecast})))},Ge=t(19),Je=function(){return function(e){fetch("https://globe-weather.firebaseio.com/favorites.json").then(function(e){return e.json()}).then(function(a){var t=[];for(var r in a)t.push(Object(Z.a)({},a[r]));e(function(e){return{type:"GET_FAVORITES",favorites:e}}(t))}).catch(function(e){console.log("addFavorite Error:",e)})}},Ye=function(e){return function(a){fetch("https://globe-weather.firebaseio.com/favorites/".concat(e,".json"),{method:"DELETE"}).then(function(t){return a(function(e){return{type:"REMOVE_FAVORITE_SUCCESS",id:e}}(e))}).catch(function(e){return console.error(e)})}},qe=Object(Ge.b)(function(e,a){return{favorites:e.favoritesReducer.favorites,locationName:a.locationName,locationKey:a.locationKey}},function(e){return{addFavorites:function(a){return e((t=a,function(e){fetch("https://globe-weather.firebaseio.com/favorites/".concat(t.id,".json"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()}).then(function(a){e({type:"ADD_FAVORITE_SUCCESS",location:a})}).catch(function(e){console.log("addFavorite Error:",e)})}));var t},getFavorites:function(){return e(Je())},removeFromFavorites:function(a){return e(Ye(a))}}})(ze);var Xe=function(){var e=Object(z.a)(P.a.mark(function e(){var a,t,r,n;return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e,a){navigator.geolocation.getCurrentPosition(e,a)});case 2:return a=e.sent,t=a.coords,r=t.latitude,n=t.longitude,e.abrupt("return",{lat:r,long:n});case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),Ze=function(){var e=Object(z.a)(P.a.mark(function e(a,t){var r,n,o,s;return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://dataservice.accuweather.com/locations/v1/cities/geoposition/search","?apikey=").concat(Q,"&q=").concat(a,",").concat(t));case 2:return r=e.sent,e.next=5,r.json();case 5:return n=e.sent,o=n.Key,s=n.LocalizedName,e.abrupt("return",{name:s,key:o});case 8:case"end":return e.stop()}},e)}));return function(a,t){return e.apply(this,arguments)}}(),$e=function(e){function a(){var e,t;Object(G.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=Object(Y.a)(this,(e=Object(q.a)(a)).call.apply(e,[this].concat(n)))).state={location:{name:"",key:null},error:!1,errorMassage:""},t.setLocation=function(e){var a={name:e.name.split(",")[0],key:e.key};t.setState({location:a})},t.setError=function(e){t.setState({error:!0,errorMassage:e})},t.modalClosed=function(){t.setState({error:!1})},t}return Object(X.a)(a,e),Object(J.a)(a,[{key:"componentDidMount",value:function(){var e=Object(z.a)(P.a.mark(function e(){var a,t,r,n,o,s,i,c,u;return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.props.match.params,t=a.key,r=a.name,!t||!r){e.next=6;break}n={name:r,key:t},this.setState({location:n}),e.next=21;break;case 6:return e.prev=6,e.next=9,Xe();case 9:return o=e.sent,e.next=12,Ze(o.lat,o.long);case 12:s=e.sent,i=s.name,c=s.key,u={name:i,key:c},this.setState({location:u,error:!1,errorMassage:""}),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(6),this.setError("An error occurred while trying to get your current location");case 21:case"end":return e.stop()}},e,this,[[6,18]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.location,a=e.name,t=e.key,r=null;return this.state.error&&(r=n.a.createElement(Pe,{show:this.state.error,modalClosed:this.modalClosed},this.state.errorMassage)),n.a.createElement(c,null,r,n.a.createElement(he.Provider,{value:{setLocation:this.setLocation,setError:this.setError}},n.a.createElement(ye,{name:a})),n.a.createElement(qe,{locationName:a,locationKey:t}))}}]),a}(r.Component),Qe=t(29),ea=t.n(Qe),aa=t(5),ta=t.n(aa),ra=t(60),na=t.n(ra),oa=t(61),sa=t.n(oa),ia=function(e){var a=Object(r.useContext)(v),t=[ta.a.Favorite,ta.a.DarkFavorite];return a.screenMode||(t=[ta.a.Favorite,ta.a.LightFavorite]),n.a.createElement("div",{className:t.join(" ")},n.a.createElement("div",{className:ta.a.Temp},n.a.createElement("label",{className:ta.a.Label},e.name),n.a.createElement("label",{className:ta.a.Label},e.temp,"\xb0 ",e.unit)),n.a.createElement("div",null,n.a.createElement("label",{className:ta.a.WeatherText},e.weatherText)),n.a.createElement("div",{className:ta.a.containericons},n.a.createElement("div",{className:ta.a.iconDiv},n.a.createElement(u.b,{className:ta.a.Link,to:"/".concat(e.locationKey,"/").concat(e.name)},n.a.createElement(na.a,{className:ta.a.infoIcon})),n.a.createElement(sa.a,{className:ta.a.deleteIcon,onClick:function(){return e.removeFromFavorite(e.locationKey)}}))))},ca=function(e){var a=Object(r.useContext)(v),t=[ea.a.FavoritesList,ea.a.DarkFavoritesList];a.screenMode||(t=[ea.a.FavoritesList,ea.a.LightFavoritesList]);var o=e.favoritesList.map(function(a){return n.a.createElement(ia,{key:a.id,name:a.name,locationKey:a.id,temp:a.temp,weatherText:a.weatherText,unit:a.unit,removeFromFavorite:e.removeFromFavorite})});return n.a.createElement("div",{className:t.join(" ")},o)},ua=t(62),la=t.n(ua),ha=function(){return n.a.createElement("div",{className:la.a.Loader},"Loading...")},va=t(17),ma=t.n(va),da=function(e){var a=Object(r.useState)({searchValue:""}),t=Object(i.a)(a,2),o=t[0],s=t[1];return n.a.createElement("div",null,n.a.createElement("input",{type:"text",placeholder:"Search...",value:o.searchValue,onChange:function(a){return function(a){var t=a.target.value;pe(t)&&(s({searchValue:t}),e.setSearchResult(t))}(a)}}))},_a=function(e){var a=Object(r.useContext)(v),t=Object(r.useState)({favoritesList:null}),o=Object(i.a)(t,2),s=o[0],c=o[1],u=Object(r.useState)({error:!1,errorMassage:""}),l=Object(i.a)(u,2),h=l[0],m=l[1],d=Object(r.useState)({searchList:null}),_=Object(i.a)(d,2),f=_[0],b=_[1];Object(r.useEffect)(function(){e.favorites||e.getFavorites()},[]),Object(r.useEffect)(function(){e.favorites&&function(e,a){return te.apply(this,arguments)}(a.degrreMode,e.favorites).then(function(e){c({favoritesList:e})}).catch(function(e){m({error:!0,errorMassage:"An error occurred while trying to get Your favorits List."})})},[e.favorites]),Object(r.useEffect)(function(){if(s.favoritesList){var e=function(e,a){for(var t=Object($.a)(a),r=0;r<t.length;r++)t[r].temp=e?ie(t[r].temp):se(t[r].temp),t[r].unit=e?"C":"F";return t}(a.degrreMode,s.favoritesList);c({favoritesList:e})}},[a.degrreMode]);var p=null;h.error&&(p=n.a.createElement(Pe,{show:h.error,modalClosed:function(){m({error:!1,errorMassage:""})}},h.errorMassage));var y=n.a.createElement(ha,null);s.favoritesList&&(y=n.a.createElement(ca,{favoritesList:f.searchList||s.favoritesList,removeFromFavorite:function(a){e.removeFromFavorites(a)}}));var F=[ma.a.Search,ma.a.DarkSearch];return a.screenMode||(F=[ma.a.Search,ma.a.LightSearch]),n.a.createElement("div",{className:ma.a.Favorites},p,n.a.createElement("div",{className:F.join(" ")},n.a.createElement(da,{screenMode:a.screenMode,setSearchResult:function(e){if(s.favoritesList){var a=function(e,a,t){return""===e?a:a.filter(function(a){return a[t].toLowerCase().includes(e.toLowerCase())})}(e,s.favoritesList,"name");b({searchList:a})}}})),n.a.createElement("div",{className:ma.a.favoriteList},y))},fa=Object(Ge.b)(function(e){return{favorites:e.favoritesReducer.favorites}},function(e){return{getFavorites:function(){return e(Je())},removeFromFavorites:function(a){return e(Ye(a))}}})(_a),ba=Object(U.f)(function(){var e=n.a.createElement(U.c,null,n.a.createElement(U.a,{path:"/",exact:!0,component:$e}),n.a.createElement(U.a,{path:"/favorites",component:fa}),n.a.createElement(U.a,{path:"/:key/:name",exact:!0,component:$e}));return n.a.createElement(R,null,e)});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var pa=t(16),ya=t(63),Fa={favorites:null},ga=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fa,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_FAVORITES":return function(e,a){return Object(Z.a)({},e,{favorites:a.favorites})}(e,a);case"ADD_FAVORITE_SUCCESS":return function(e,a){return Object(Z.a)({},e,{favorites:e.favorites.concat(a.location)})}(e,a);case"REMOVE_FAVORITE_SUCCESS":return function(e,a){var t=e.favorites.filter(function(e){return e.id!==a.id});return Object(Z.a)({},e,{favorites:t})}(e,a);default:return e}},Ea=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||pa.d,Da=Object(pa.c)({favoritesReducer:ga}),ka=Object(pa.e)(Da,Ea(Object(pa.a)(ya.a))),Na=n.a.createElement(Ge.a,{store:ka},n.a.createElement(u.a,null,n.a.createElement(ba,null)));s.a.render(Na,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[64,1,2]]]);
//# sourceMappingURL=main.6608d9cf.chunk.js.map